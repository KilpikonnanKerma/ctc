[gd_scene load_steps=79 format=3 uid="uid://blm5qbb3wbbbh"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_q5ei5"]
[ext_resource type="Texture2D" uid="uid://cixbyjhlopit5" path="res://sprites/player/consumption/eat01_00.png" id="2_1qwlm"]
[ext_resource type="Texture2D" uid="uid://ct37lbd1s4std" path="res://sprites/player/hide_idle_0.png" id="2_75bhc"]
[ext_resource type="Texture2D" uid="uid://dylfo66q3rfm6" path="res://sprites/player/player_idle_0_ver2.png" id="2_a4u02"]
[ext_resource type="Texture2D" uid="uid://dcgics0h7m46r" path="res://sprites/player/consumption/eat01_01.png" id="3_7r7eg"]
[ext_resource type="Texture2D" uid="uid://cqu62dvkbkauq" path="res://sprites/player/hide_idle_1.png" id="3_8jwcu"]
[ext_resource type="Texture2D" uid="uid://bvtyvf1u6jyuw" path="res://sprites/player/hide01.png" id="3_78tbv"]
[ext_resource type="Texture2D" uid="uid://cyyu1siudekcf" path="res://sprites/player/player_idle_1_ver2.png" id="3_ifflw"]
[ext_resource type="Texture2D" uid="uid://cpdjuuvuwsoq5" path="res://sprites/player/hide02.png" id="4_1t64q"]
[ext_resource type="Texture2D" uid="uid://oss3w7q1vody" path="res://sprites/player/player_idle_2_ver2.png" id="4_m8sup"]
[ext_resource type="Texture2D" uid="uid://sflmbhikskom" path="res://sprites/player/hide_idle_2.png" id="4_mk2mh"]
[ext_resource type="Texture2D" uid="uid://blp83x57lfpux" path="res://sprites/player/consumption/eat01_02.png" id="4_xex50"]
[ext_resource type="Texture2D" uid="uid://cdjb36bwydy1n" path="res://sprites/player/hide_idle_3.png" id="5_2elok"]
[ext_resource type="Texture2D" uid="uid://s6nfb0mhpg21" path="res://sprites/player/consumption/eat01_03.png" id="5_av1ku"]
[ext_resource type="Texture2D" uid="uid://dynkfs445vfyj" path="res://sprites/player/player_idle_3_ver2.png" id="5_g4wxv"]
[ext_resource type="Texture2D" uid="uid://tpkdcnfhig2g" path="res://sprites/player/hide03.png" id="5_m7pom"]
[ext_resource type="Texture2D" uid="uid://cxp1d56ijcc5h" path="res://sprites/player/consumption/eat01_04.png" id="6_1c2ts"]
[ext_resource type="Texture2D" uid="uid://b5ke3pigh17xg" path="res://sprites/player/hide04.png" id="6_hgjnb"]
[ext_resource type="Texture2D" uid="uid://dbyxvaxeavi0d" path="res://sprites/player/player_walk_left_0.png" id="6_m83e7"]
[ext_resource type="Texture2D" uid="uid://7dq2oceoysr6" path="res://sprites/player/player_walk_left_1.png" id="7_1p7qm"]
[ext_resource type="Texture2D" uid="uid://dvip8lrbv1dxw" path="res://sprites/player/consumption/eat01_05.png" id="7_8c670"]
[ext_resource type="Texture2D" uid="uid://bwpp8ir58y2yf" path="res://sprites/player/hide05.png" id="7_wa5x8"]
[ext_resource type="Texture2D" uid="uid://bdb4m26bu7yws" path="res://sprites/player/consumption/eat01_06.png" id="8_7fip1"]
[ext_resource type="Texture2D" uid="uid://d0jcmisd3n7ph" path="res://sprites/player/player_walk_left_2.png" id="8_jqt2n"]
[ext_resource type="Texture2D" uid="uid://bx4j4nqrorxks" path="res://sprites/player/hide06.png" id="8_m0wyx"]
[ext_resource type="Texture2D" uid="uid://cawj2sf6cx42i" path="res://sprites/player/consumption/eat01_07.png" id="9_2utbi"]
[ext_resource type="Texture2D" uid="uid://ctyko64gqhw6q" path="res://sprites/player/player_walk_left_3.png" id="9_jitjq"]
[ext_resource type="Texture2D" uid="uid://cobuut1wb0wg8" path="res://sprites/player/player_walk_left_4.png" id="10_jwq8l"]
[ext_resource type="Texture2D" uid="uid://dbhq4mqkllhqt" path="res://sprites/player/consumption/eat01_08.png" id="10_wp1sq"]
[ext_resource type="Texture2D" uid="uid://br71p62kco0xv" path="res://sprites/player/player_walk_left_5.png" id="11_pujr1"]
[ext_resource type="Texture2D" uid="uid://df2m8nt3a515n" path="res://sprites/player/consumption/eat01_10.png" id="11_tmdhy"]
[ext_resource type="Texture2D" uid="uid://vpmu8hgucw3b" path="res://sprites/player/consumption/eat01_09.png" id="11_wn4dr"]
[ext_resource type="Texture2D" uid="uid://dmqrkvd8l8xhe" path="res://sprites/player/player_walk_right_0.png" id="12_du40n"]
[ext_resource type="Texture2D" uid="uid://b0er24je3nnkw" path="res://sprites/player/player_walk_right_1.png" id="13_awpwn"]
[ext_resource type="Texture2D" uid="uid://cwlqv3bnfktu5" path="res://sprites/player/consumption/eat01_11.png" id="13_rp6qp"]
[ext_resource type="Texture2D" uid="uid://ssdstm8y4omn" path="res://sprites/player/player_walk_right_2.png" id="14_6gk1l"]
[ext_resource type="Texture2D" uid="uid://v8t8ebqvb7f8" path="res://sprites/player/consumption/eat01_12.png" id="14_rxd4t"]
[ext_resource type="Texture2D" uid="uid://bacemkhrmobab" path="res://sprites/player/consumption/eat01_13.png" id="15_bwkn3"]
[ext_resource type="Texture2D" uid="uid://cv3ggdgcit7f1" path="res://sprites/player/player_walk_right_3.png" id="15_f7qd7"]
[ext_resource type="Texture2D" uid="uid://cb1rrnm8xgrgb" path="res://sprites/player/player_walk_right_4.png" id="16_g2fb2"]
[ext_resource type="Texture2D" uid="uid://drcquwdsu8j66" path="res://sprites/player/consumption/eat01_14.png" id="16_qe53e"]
[ext_resource type="Texture2D" uid="uid://pe4awcb62vuo" path="res://sprites/player/consumption/eat01_15.png" id="17_7w1ah"]
[ext_resource type="Texture2D" uid="uid://blq7i1mqxbr4i" path="res://sprites/player/player_walk_right_5.png" id="17_338me"]
[ext_resource type="Texture2D" uid="uid://bavmwkntjr0qi" path="res://sprites/player/consumption/eat01_16.png" id="18_yc8xm"]
[ext_resource type="Texture2D" uid="uid://bsryyydxdv84o" path="res://sprites/player/consumption/eat01_17.png" id="19_bd4ag"]
[ext_resource type="Texture2D" uid="uid://cpgkqslw3713i" path="res://sprites/player/consumption/eat01_18.png" id="20_b2hjm"]
[ext_resource type="Texture2D" uid="uid://b2i6qqp0adq7c" path="res://sprites/player/consumption/eat01_19.png" id="21_wfjxp"]
[ext_resource type="Texture2D" uid="uid://7y6nbqxj52v0" path="res://sprites/player/consumption/eat01_20.png" id="22_d8yfc"]
[ext_resource type="Texture2D" uid="uid://c5lq4gee74aly" path="res://sprites/player/consumption/eat01_21.png" id="23_uld8w"]
[ext_resource type="Texture2D" uid="uid://ciuwoqexlxffr" path="res://sprites/player/consumption/eat01_22.png" id="24_xqa7b"]
[ext_resource type="Texture2D" uid="uid://cphw6ekjbta2l" path="res://sprites/player/consumption/eat01_23.png" id="25_lsy45"]
[ext_resource type="Texture2D" uid="uid://vxkb5k5e3755" path="res://sprites/player/consumption/eat01_24.png" id="26_6ff26"]
[ext_resource type="Texture2D" uid="uid://cnic7avbld7fc" path="res://sprites/player/consumption/eat01_25.png" id="27_kpwwa"]
[ext_resource type="Texture2D" uid="uid://du3xhlneg1jal" path="res://sprites/player/consumption/eat01_26.png" id="28_0ehht"]
[ext_resource type="Texture2D" uid="uid://cvju7nl5v2ne4" path="res://sprites/player/player_fall00.png" id="43_5pghx"]
[ext_resource type="Texture2D" uid="uid://cuf05p7jeql4n" path="res://sprites/player/player_fall01.png" id="43_cka20"]
[ext_resource type="Texture2D" uid="uid://pmbe552nfewl" path="res://sprites/player/player_idle_left_0.png" id="44_dhcfv"]
[ext_resource type="Texture2D" uid="uid://di55qkfjencot" path="res://sprites/player/player_fall02.png" id="45_cllwb"]
[ext_resource type="Texture2D" uid="uid://fialfvb8iyxn" path="res://sprites/player/player_idle_left_1.png" id="45_mp18w"]
[ext_resource type="Texture2D" uid="uid://el0f6l4bfsmc" path="res://sprites/player/player_idle_left_2.png" id="46_21m2j"]
[ext_resource type="Texture2D" uid="uid://b4bjpk5pskpv7" path="res://sprites/player/player_walk_fall_l.png" id="46_di31p"]
[ext_resource type="Texture2D" uid="uid://cecjciaumgibv" path="res://sprites/player/player_walk_fall.png" id="46_wtm16"]
[ext_resource type="Texture2D" uid="uid://b3nc2jqoitdxd" path="res://sprites/player/player_idle_left_3.png" id="47_cglan"]
[ext_resource type="Shader" path="res://scripts/shaders/vignette.gdshader" id="60_gy4ti"]
[ext_resource type="PackedScene" uid="uid://dnmx7jhikyiry" path="res://scenes/pause_menu.tscn" id="61_rv1e6"]
[ext_resource type="Texture2D" uid="uid://boe1066twercm" path="res://sprites/shit/hp_empty.png" id="64_w7qfq"]
[ext_resource type="Texture2D" uid="uid://yj8vp3xe01jd" path="res://sprites/shit/hp_half.png" id="66_fk1xy"]
[ext_resource type="Texture2D" uid="uid://cw43yrvplbhhx" path="res://sprites/shit/hp_full.png" id="66_j2fkb"]

[sub_resource type="SpriteFrames" id="SpriteFrames_hunum"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_1qwlm")
}, {
"duration": 1.0,
"texture": ExtResource("3_7r7eg")
}, {
"duration": 1.0,
"texture": ExtResource("4_xex50")
}, {
"duration": 1.0,
"texture": ExtResource("5_av1ku")
}, {
"duration": 1.0,
"texture": ExtResource("6_1c2ts")
}, {
"duration": 1.0,
"texture": ExtResource("7_8c670")
}, {
"duration": 1.0,
"texture": ExtResource("8_7fip1")
}, {
"duration": 1.0,
"texture": ExtResource("9_2utbi")
}, {
"duration": 1.0,
"texture": ExtResource("10_wp1sq")
}, {
"duration": 1.0,
"texture": ExtResource("11_wn4dr")
}, {
"duration": 1.0,
"texture": ExtResource("11_tmdhy")
}, {
"duration": 1.0,
"texture": ExtResource("13_rp6qp")
}, {
"duration": 1.0,
"texture": ExtResource("14_rxd4t")
}, {
"duration": 1.0,
"texture": ExtResource("15_bwkn3")
}, {
"duration": 1.0,
"texture": ExtResource("16_qe53e")
}, {
"duration": 1.0,
"texture": ExtResource("17_7w1ah")
}, {
"duration": 1.0,
"texture": ExtResource("18_yc8xm")
}, {
"duration": 1.0,
"texture": ExtResource("19_bd4ag")
}, {
"duration": 1.0,
"texture": ExtResource("20_b2hjm")
}, {
"duration": 1.0,
"texture": ExtResource("21_wfjxp")
}, {
"duration": 1.0,
"texture": ExtResource("22_d8yfc")
}, {
"duration": 1.0,
"texture": ExtResource("23_uld8w")
}, {
"duration": 1.0,
"texture": ExtResource("24_xqa7b")
}, {
"duration": 1.0,
"texture": ExtResource("25_lsy45")
}, {
"duration": 1.0,
"texture": ExtResource("26_6ff26")
}, {
"duration": 1.0,
"texture": ExtResource("27_kpwwa")
}, {
"duration": 1.0,
"texture": ExtResource("28_0ehht")
}, {
"duration": 1.0,
"texture": ExtResource("28_0ehht")
}, {
"duration": 1.0,
"texture": ExtResource("28_0ehht")
}, {
"duration": 1.0,
"texture": ExtResource("28_0ehht")
}, {
"duration": 1.0,
"texture": ExtResource("28_0ehht")
}],
"loop": true,
"name": &"eat01",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("45_cllwb")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_75bhc")
}, {
"duration": 1.0,
"texture": ExtResource("3_8jwcu")
}, {
"duration": 1.0,
"texture": ExtResource("4_mk2mh")
}, {
"duration": 1.0,
"texture": ExtResource("5_2elok")
}, {
"duration": 1.0,
"texture": ExtResource("4_mk2mh")
}, {
"duration": 1.0,
"texture": ExtResource("3_8jwcu")
}],
"loop": true,
"name": &"hide",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_a4u02")
}, {
"duration": 1.0,
"texture": ExtResource("3_78tbv")
}, {
"duration": 1.0,
"texture": ExtResource("4_1t64q")
}, {
"duration": 1.0,
"texture": ExtResource("5_m7pom")
}, {
"duration": 1.0,
"texture": ExtResource("6_hgjnb")
}, {
"duration": 1.0,
"texture": ExtResource("7_wa5x8")
}, {
"duration": 1.0,
"texture": ExtResource("8_m0wyx")
}],
"loop": true,
"name": &"hide_transition",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_a4u02")
}, {
"duration": 1.0,
"texture": ExtResource("3_ifflw")
}, {
"duration": 1.0,
"texture": ExtResource("4_m8sup")
}, {
"duration": 1.0,
"texture": ExtResource("5_g4wxv")
}, {
"duration": 1.0,
"texture": ExtResource("4_m8sup")
}, {
"duration": 1.0,
"texture": ExtResource("3_ifflw")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("44_dhcfv")
}, {
"duration": 1.0,
"texture": ExtResource("45_mp18w")
}, {
"duration": 1.0,
"texture": ExtResource("46_21m2j")
}, {
"duration": 1.0,
"texture": ExtResource("47_cglan")
}, {
"duration": 1.0,
"texture": ExtResource("46_21m2j")
}, {
"duration": 1.0,
"texture": ExtResource("45_mp18w")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_a4u02")
}, {
"duration": 1.0,
"texture": ExtResource("43_5pghx")
}, {
"duration": 1.0,
"texture": ExtResource("43_cka20")
}, {
"duration": 1.0,
"texture": ExtResource("45_cllwb")
}],
"loop": true,
"name": &"trs_to_fall",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("46_di31p")
}],
"loop": true,
"name": &"walk_fall_l",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("46_wtm16")
}],
"loop": true,
"name": &"walk_fall_r",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_m83e7")
}, {
"duration": 1.0,
"texture": ExtResource("7_1p7qm")
}, {
"duration": 1.0,
"texture": ExtResource("8_jqt2n")
}, {
"duration": 1.0,
"texture": ExtResource("9_jitjq")
}, {
"duration": 1.0,
"texture": ExtResource("10_jwq8l")
}, {
"duration": 1.0,
"texture": ExtResource("11_pujr1")
}],
"loop": true,
"name": &"walk_l",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_du40n")
}, {
"duration": 1.0,
"texture": ExtResource("13_awpwn")
}, {
"duration": 1.0,
"texture": ExtResource("14_6gk1l")
}, {
"duration": 1.0,
"texture": ExtResource("15_f7qd7")
}, {
"duration": 1.0,
"texture": ExtResource("16_g2fb2")
}, {
"duration": 1.0,
"texture": ExtResource("17_338me")
}],
"loop": true,
"name": &"walk_r",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o58d1"]
size = Vector2(26.5, 26.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eoymx"]
size = Vector2(61.625, 32.25)

[sub_resource type="SpriteFrames" id="SpriteFrames_cjopr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("64_w7qfq")
}],
"loop": true,
"name": &"hp_empty",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("66_j2fkb")
}],
"loop": true,
"name": &"hp_full",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("66_fk1xy")
}],
"loop": true,
"name": &"hp_half",
"speed": 5.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o2av2"]
resource_local_to_scene = true
shader = ExtResource("60_gy4ti")
shader_parameter/vignette_intensity = 0.8
shader_parameter/vignette_opacity = 0.5
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_qabcx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera/CanvasLayer/Vignette:material:shader_parameter/vignette_rgb")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_lolrt"]
resource_name = "vignette_anim"
length = 1.75
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera/CanvasLayer/Vignette:material:shader_parameter/vignette_rgb")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.73333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_gjb8k"]
resource_name = "vignette_anim_off"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera/CanvasLayer/Vignette:material:shader_parameter/vignette_rgb")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_75ai5"]
_data = {
"RESET": SubResource("Animation_qabcx"),
"vignette_anim": SubResource("Animation_lolrt"),
"vignette_anim_off": SubResource("Animation_gjb8k")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n3klj"]
size = Vector2(394.5, 243.5)

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_q5ei5")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_hunum")
animation = &"idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
position = Vector2(1.25, 2.25)
shape = SubResource("RectangleShape2D_o58d1")

[node name="Range" type="Area2D" parent="." groups=["Player"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Range"]
shape = SubResource("RectangleShape2D_eoymx")

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(1, 1)
process_callback = 0
limit_left = -570
limit_bottom = 425
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 100.0
drag_horizontal_enabled = true

[node name="CanvasLayer" type="CanvasLayer" parent="Camera"]

[node name="HUD" type="Control" parent="Camera/CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 1.0
offset_top = 1.0
offset_right = 41.0
offset_bottom = 41.0

[node name="HP" type="AnimatedSprite2D" parent="Camera/CanvasLayer/HUD"]
position = Vector2(55, 41)
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_cjopr")
animation = &"hp_empty"

[node name="Vignette" type="ColorRect" parent="Camera/CanvasLayer"]
visible = false
z_index = -10
material = SubResource("ShaderMaterial_o2av2")
use_parent_material = true
offset_right = 960.0
offset_bottom = 540.0
color = Color(0, 0, 0, 1)

[node name="PauseMenu" parent="Camera/CanvasLayer" instance=ExtResource("61_rv1e6")]
visible = false
z_index = 13

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_75ai5")
}

[node name="Eat_range" type="Area2D" parent="."]
visible = false
monitoring = false
monitorable = false

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Eat_range"]
shape = SubResource("RectangleShape2D_n3klj")

[connection signal="body_entered" from="Range" to="." method="_on_kill_range_entered"]
[connection signal="body_exited" from="Range" to="." method="_on_kille_range_exited"]
[connection signal="area_entered" from="Eat_range" to="." method="is_caught"]
